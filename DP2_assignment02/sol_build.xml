<?xml version="1.0" encoding="UTF-8"?>

<!-- Ant script for running client-side JAX-RS examples -->
<project name="neo4j-rest-client" default="generate-artifacts" basedir=".">
	<property name="root.location" location="." />
	
	<!-- define directories -->
	<property name="lib.dir" location="${root.location}/lib" />
	<property name="gen.dir" location="${root.location}/gen-src" />
	
	<!-- define compilation properties -->
	<property name="debug" value="true" />
	<property name="debuglevel" value="source,lines,vars" />
	<property name="target" value="1.8" />
	<property name="source" value="1.8" />
	
	<!-- define location of WADL for WADL-based example -->
	<property name="neo4j.name" value="Neo4JXML" />
	<property name="neo4j.location" value="rest" />
	<property name="neo4j.wadl" value="http://localhost:8080/${neo4j.name}/${neo4j.location}/application.wadl" />

	<!-- define wjc task (WADL to Java) -->
	<taskdef name="wjc" classname="org.jvnet.ws.wadl2java.WJCTask">
   		<classpath>
   			<fileset dir="${lib.dir}" includes="*.jar" />
   		</classpath>
	</taskdef>
	
	<!-- define paths -->
	<path id="lib.classpath">
			<pathelement location="${build.dir}" />
		<!-- uncomment the following fileset if you use Java EE
		     or if your JDK does not already include these jars under jre/lib/ext
		-->
			<fileset dir="${lib.dir}">
	          <include name="**/*.jar"/>
	        </fileset>

	</path>
	
	<!-- define the client artifacts generation target -->
	<target name="generate-artifacts" depends="clean">
		<mkdir dir="${gen.dir}" />
	   	<echo message="Compiling the descriptions..." />
	   	<wjc description="${neo4j.wadl}" package="it.polito.dp2.NFFG.sol2"
	       autoSchemaPackage="false" target="${gen.dir}">
	     <produces dir="${gen.dir}/it/polito/dp2/NFFG/sol2" includes="*.java"/>
	     <depends dir="${root.location}" includes="build.xml"/>
	    </wjc>
	</target>

	<!-- define the "clean" target (remove directories) -->
	<target name="clean">
		<delete dir="${gen.dir}"/>
	</target>

</project>
