<?xml version="1.0" encoding="UTF-8"?>

<project basedir="." name="nffg-service">
	<description>
		Script for NffgService REST Web Service
	</description>
	
	<path id="classpath">
		<fileset dir="${lib.dir}">
			<include name="**/*.jar" />
		</fileset>
		<fileset dir="${web.lib.dir}">
			<include name="**/*.jar" />
		</fileset>
	</path>
	
	<target name="init" depends="clean">
		<!-- make directories -->
	    <mkdir dir="${build.dir}"/>
		<mkdir dir="${gen.dir}"/>
		<mkdir dir="${gen-tomcat-service.dir}"/>		
		<mkdir dir="${gen-war.dir}"/>
	</target>  
	
	<target name="build-service" depends="init">
		<javac debug="on" 
	       fork="true"
	       destdir="${build.dir}" 
	       srcdir="${src.dir}"
		   includeantruntime="false"
		   source="${source}"
		   target="${target}"
	 	>
			<include name="${path.prefix}/${serviceName}/**/*.java"/>
			<classpath>
				<path refid="classpath" />
			</classpath>
		</javac>
	</target>

	
	<!--DELETE BUILD AND GENERATED DIRECTORIES-->
	<target name="clean" description="Clean build and generated">
		<delete dir="${build.dir}" />
		<delete dir="${gen.dir}" />
		<delete dir="${gen-tomcat-service.dir}"/>		
	</target>
	
	<target name="distclean" depends="clean" description="delete all">
		<delete dir="${gen-war.dir}" />
	</target>
	
</project>
